import{j as s,N as r,R as c,a as u,c as d,b as p,u as x,s as h}from"./index-CF19vvzr.js";const _="_dialogs_10zpr_1",j="_dialogsItems_10zpr_15",N="_dialog_10zpr_1",C="_messagesInner_10zpr_67",I="_messages_10zpr_67",v="_message_10zpr_67",M="_messagesInput_10zpr_101",n={dialogs:_,dialogsItems:j,dialog:N,messagesInner:C,messages:I,message:v,messagesInput:M},R=e=>s.jsxs(r,{className:n.dialog,to:"/dialogs/"+e.id,children:[s.jsx("img",{src:e.img,alt:""}),s.jsx("h3",{children:e.name})]}),z=e=>s.jsx(r,{className:n.message,children:e.text});function f(e){let t=e.dialogsPage,o=t.dialogs.map(a=>s.jsx(R,{name:a.name,img:a.img,id:a.id},a.id)),i=t.messages.map(a=>s.jsx(z,{text:a.text},a.id)),g=a=>{let m=a.target.value;e.updateNewMessageBody(m)},l=()=>{e.sendMessage()};return s.jsxs("div",{className:n.dialogs,children:[s.jsx("div",{className:n.dialogsItems,children:o}),s.jsx("div",{children:s.jsxs("div",{className:n.messagesInner,children:[s.jsx("div",{className:n.messages,children:i}),s.jsxs("div",{className:n.messagesInput,children:[s.jsx("textarea",{onChange:g,value:t.newMessageBody}),s.jsx("button",{onClick:l,children:"send"})]})]})})]})}let w=e=>({isAuth:e.auth.isAuth});function y(e){class t extends c.Component{render(){return this.props.isAuth?s.jsx(e,{...this.props}):s.jsx(u,{to:"/login"})}}return d(w)(t)}let A=e=>({dialogsPage:e.dialogsPage}),P=e=>({updateNewMessageBody:t=>{e(x(t))},sendMessage:()=>{e(h())}});const D=p(d(A,P),y)(f);export{D as default};
